<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>BATI DC</title>
<style>
  :root{
    --bg:#0f1115; --ink:#fff; --muted:#a8b3cf;
    --paper:#11161c; --card:#fff; --border:#e6e8f0;
    --accent:#f59e0b; --ink-strong:#111;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:#f3f4f6; color:#111;
  }
  a{color:inherit; text-decoration:none}
  /* Appbar */
  .appbar{
    position:sticky; top:0; z-index:30;
    background:#0f1115; color:#fff; border-bottom:1px solid #1f2937;
  }
  .bar{max-width:1100px; margin:auto; padding:14px; display:grid; grid-template-columns:auto 1fr auto; gap:12px; align-items:center}
  .brand{font-weight:800; letter-spacing:.3px; display:flex; align-items:center; gap:12px}
  .menu-btn{display:inline-grid; place-items:center; width:42px; height:42px; border-radius:12px; border:2px solid #374151}
  .icons{display:flex; gap:10px}
  .iconbtn{width:42px; height:42px; border-radius:12px; background:transparent; border:2px solid #374151; display:grid; place-items:center; color:#fff}
  /* Recherche */
  .searchrow{max-width:1100px; margin:6px auto 14px; padding:0 14px}
  .searchbox{display:grid; grid-template-columns:1fr auto; gap:12px}
  .input{height:48px; border-radius:24px; border:2px solid #374151; background:#0d1116; color:#e5e7eb; padding:0 18px}
  .cta{height:48px; padding:0 18px; border:0; border-radius:24px; background:var(--accent); color:#111; font-weight:800; cursor:pointer}
  /* Tabs */
  .tabs-wrap{background:#fff; border-top:1px solid #e5e7eb; border-bottom:1px solid #e5e7eb; position:sticky; top:96px; z-index:25}
  @media (max-width:680px){.tabs-wrap{top:102px}}
  .tabs{max-width:1100px; margin:auto; padding:10px 14px; display:flex; gap:10px; overflow:auto}
  .tab{padding:10px 16px; border:2px solid var(--border); border-radius:12px; background:#fff; font-weight:700; white-space:nowrap}
  .tab.active{background:#111; color:#fff; border-color:#111}
  /* Delivery */
  .banner{max-width:1100px; margin:12px auto; padding:12px 14px}
  .banner .card{background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:12px 14px; display:flex; align-items:center; gap:10px}
  /* Content */
  .wrap{max-width:1100px; margin:10px auto 80px; padding:0 14px}
  .section-title{font-size:24px; font-weight:900; margin:18px 0 10px}
  .product{background:#fff; border:1px solid #e5e7eb; border-radius:16px; overflow:hidden; margin:14px 0}
  .product .media{background:#e5e7eb; aspect-ratio:16/9; display:block; width:100%; object-fit:cover}
  .product .pad{padding:14px}
  .price{font-weight:800; margin:10px 0}
  .row{display:flex; gap:10px; flex-wrap:wrap}
  .btn{height:44px; padding:0 16px; border-radius:14px; border:2px solid #111; background:#fff; font-weight:800; cursor:pointer}
  .btn.primary{background:var(--accent); border-color:var(--accent)}
  .btn.dark{background:#111; color:#fff}
  /* Badge devis */
  .quote-badge{
    position:fixed; right:14px; bottom:14px; z-index:50;
    background:#111; color:#fff; border-radius:26px; padding:8px 12px; display:flex; align-items:center; gap:8px;
    box-shadow:0 8px 30px rgba(0,0,0,.25);
  }
  .pill{display:inline-grid; place-items:center; min-width:22px; height:22px; padding:0 6px; background:#fff; color:#111; border-radius:999px; font-weight:800; font-size:12px}
  /* Footer */
  .foot{max-width:1100px; margin:32px auto; padding:20px 14px; color:#6b7280}
</style>
</head>
<body>

<header class="appbar">
  <div class="bar">
    <button class="menu-btn" aria-label="menu">‚ò∞</button>
    <div class="brand">BATI DC</div>
    <div class="icons">
      <button class="iconbtn" title="Compte">üë§</button>
      <button class="iconbtn" title="Devis">üßæ</button>
      <button class="iconbtn" title="Panier">üõí</button>
    </div>
  </div>
  <div class="searchrow">
    <div class="searchbox">
      <input id="q" class="input" type="search" placeholder="Rechercher : perceuse, b√©ton, EPI‚Ä¶">
      <button class="cta" onclick="doSearch()">Rechercher</button>
    </div>
  </div>
</header>

<div class="tabs-wrap">
  <nav class="tabs">
    <a class="tab active" href="#" onclick="filterCat('all');return false;">Accueil</a>
    <a class="tab" href="#" onclick="filterCat('produits');return false;">Produits</a>
    <a class="tab" href="#" onclick="filterCat('fournisseurs');return false;">Fournisseurs</a>
    <a class="tab" href="#" onclick="filterCat('serrurerie');return false;">Serrurerie</a>
    <a class="tab" href="#" onclick="filterCat('plomberie');return false;">Plomberie</a>
  </nav>
</div>

<div class="banner">
  <div class="card">üì¶ <strong>Livraison partout en France</strong></div>
</div>

<main id="app" class="wrap"></main>

<div class="quote-badge">üßæ Devis <span class="pill" data-quote-badge>0</span></div>

<footer class="foot">¬© 2025 BATI DC ‚Äî Tous droits r√©serv√©s</footer>

<script>
/* --- 1) Donn√©es produits (tu peux juste compl√©ter ce tableau) --- */
const PRODUCTS = [
  /* === SERRURERIE === */
  { id:"HRC-Y7C-30x30", brand:"Heracles", name:"Cylindre de serrure Y7C+ A2P 30x30 (5 cl√©s)", category:"serrurerie",
    price_ht:69.90, price_ttc:83.88,
    image:"https://via.placeholder.com/900x520?text=Heracles+Y7C%2B+30x30",
    ref:"Y7C+ 30/30", short:"Cylindre europ√©en Y7C+ certifi√© A2P, livr√© avec 5 cl√©s." },
  { id:"HRC-Y7C-30x40", brand:"Heracles", name:"Cylindre de serrure Y7C+ A2P 30x40 (5 cl√©s)", category:"serrurerie",
    price_ht:72.90, price_ttc:87.48,
    image:"https://via.placeholder.com/900x520?text=Heracles+Y7C%2B+30x40",
    ref:"Y7C+ 30/40", short:"Haute s√©curit√©, compatible profil europ√©en." },
  { id:"VACH-A2P-35x35", brand:"Vachette", name:"Cylindre europ√©en A2P 35x35", category:"serrurerie",
    price_ht:79.00, price_ttc:94.80,
    image:"https://via.placeholder.com/900x520?text=Vachette+A2P+35x35",
    ref:"A2P 35/35", short:"Cylindre A2P, 3 cl√©s, finition laiton." },

  /* === PLOMBERIE === */
  { id:"ATL-CE-100L", brand:"Atlantic", name:"Chauffe-eau Atlantic 100 L ‚Äì vertical", category:"plomberie",
    price_ht:189.00, price_ttc:226.80,
    image:"https://via.placeholder.com/900x520?text=Atlantic+100L",
    ref:"CE100", short:"R√©sistance st√©atite, garantie fabricant." },
  { id:"THER-CE-150L", brand:"Thermor", name:"Chauffe-eau Thermor 150 L", category:"plomberie",
    price_ht:249.00, price_ttc:298.80,
    image:"https://via.placeholder.com/900x520?text=Thermor+150L",
    ref:"CE150", short:"Anti-corrosion, installation facile." }
];

/* --- 2) Rendu des cartes produits --- */
let CURRENT_FILTER = 'all';
function render(list=PRODUCTS){
  const root = document.getElementById('app');
  if(!list.length){
    root.innerHTML = `<p>Aucun article trouv√©.</p>`;
    return;
  }
  // regrouper par cat√©gorie
  const groups = {};
  list.forEach(p => { (groups[p.category] ||= []).push(p); });

  root.innerHTML = Object.keys(groups).map(cat => `
    <section>
      <h2 class="section-title">${capitalize(cat)}</h2>
      ${groups[cat].map(p => card(p)).join('')}
    </section>
  `).join('');
}

function card(p){
  return `
  <article class="product">
    <img class="media" src="${p.image}" alt="${escapeHtml(p.name)}">
    <div class="pad">
      <h3 style="font-size:20px;margin:6px 0 2px">${escapeHtml(p.name)}</h3>
      <div style="color:#6b7280">${escapeHtml(p.brand)} ‚Ä¢ R√©f. ${escapeHtml(p.ref)}</div>
      <p style="margin:8px 0 6px; color:#374151">${escapeHtml(p.short||'')}</p>
      <div class="price">√† partir de ${p.price_ht.toFixed(2)} ‚Ç¨ HT</div>
      <div class="row">
        <button class="btn primary" onclick="openProduct('${p.id}')">Voir les prix</button>
        <button class="btn dark" onclick="addQuote('${p.id}')">Ajouter au devis</button>
      </div>
    </div>
  </article>`;
}

/* --- 3) Recherche & filtres --- */
function doSearch(){
  const q = (document.getElementById('q').value || '').toLowerCase().trim();
  const arr = PRODUCTS.filter(p=>{
    const hay = [p.name,p.brand,p.ref,p.category,p.short].join(' ').toLowerCase();
    const okCat = (CURRENT_FILTER==='all' || p.category===CURRENT_FILTER || CURRENT_FILTER==='produits');
    return okCat && hay.includes(q);
  });
  render(arr);
}
function filterCat(cat){
  CURRENT_FILTER = cat;
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  // marquer la tab active si elle existe
  const map = {all:0, produits:1, fournisseurs:2, serrurerie:3, plomberie:4};
  const idx = map[cat] ?? 0;
  document.querySelectorAll('.tab')[idx].classList.add('active');

  if(cat==='fournisseurs'){
    // vue simple fournisseurs (liste marques pr√©sentes)
    const marques = [...new Set(PRODUCTS.map(p=>p.brand))].sort();
    document.getElementById('app').innerHTML = `
      <section>
        <h2 class="section-title">Fournisseurs</h2>
        ${marques.map(m=>`<div class="product"><div class="pad"><strong>${escapeHtml(m)}</strong></div></div>`).join('')}
      </section>`;
    return;
  }
  doSearch();
}

/* --- 4) Fiche rapide + Devis localStorage --- */
function openProduct(id){
  const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
  alert(`${p.name}\n\nPrix HT : ${p.price_ht.toFixed(2)} ‚Ç¨\nPrix TTC : ${p.price_ttc.toFixed(2)} ‚Ç¨`);
}
function addQuote(id){
  const cart = JSON.parse(localStorage.getItem('quote') || '[]');
  const line = cart.find(i=>i.id===id);
  if(line){ line.qty += 1; } else { cart.push({id, qty:1}); }
  localStorage.setItem('quote', JSON.stringify(cart));
  updateQuoteBadge();
  // petit feedback
  const p = PRODUCTS.find(x=>x.id===id);
  if(p) toast(`¬´ ${p.name} ¬ª ajout√© au devis`);
}
function updateQuoteBadge(){
  const cart = JSON.parse(localStorage.getItem('quote') || '[]');
  let count = 0; cart.forEach(i=>count += i.qty || 1);
  const badge = document.querySelector('[data-quote-badge]');
  if(badge) badge.textContent = count;
}

/* --- 5) Utilitaires --- */
function capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)}
function escapeHtml(s){return String(s).replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;' }[m]));}
function toast(msg){
  const t = document.createElement('div');
  t.textContent = msg;
  t.style.cssText = "position:fixed;left:50%;bottom:90px;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.3);z-index:60";
  document.body.appendChild(t);
  setTimeout(()=>{ t.remove(); },1400);
}

/* --- 6) Init --- */
document.addEventListener('DOMContentLoaded', ()=>{
  render(PRODUCTS);
  updateQuoteBadge();
});
</script>
</body>
</html>
