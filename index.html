<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>BATI DC</title>
<style>
:root{
  --bg:#f3f4f6; --ink:#0b0b0c; --muted:#6b7280;
  --card:#fff; --border:#111; --accent:#f59e0b; --dark:#111;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:#111}

/* Appbar */
.appbar{position:sticky;top:0;z-index:30;background:var(--dark);color:#fff;border-bottom:1px solid #1f2937}
.bar{max-width:1100px;margin:auto;padding:14px;display:grid;grid-template-columns:auto 1fr auto;gap:12px;align-items:center}
.brand{font-weight:800;letter-spacing:.3px;display:flex;align-items:center;gap:10px}
.iconbtn{width:40px;height:40px;border-radius:12px;background:transparent;border:2px solid #374151;display:grid;place-items:center;color:#fff}
.searchrow{max-width:1100px;margin:0 auto 10px;padding:0 14px 14px}
.searchbox{display:grid;grid-template-columns:1fr auto;gap:12px}
.input{height:48px;border-radius:24px;border:2px solid #374151;background:#0d1116;color:#e5e7eb;padding:0 18px}
.cta{height:48px;padding:0 18px;border:0;border-radius:24px;background:var(--accent);color:#111;font-weight:800;cursor:pointer}

/* Tabs (Accueil / Produits / Fournisseurs ...) */
.tabs-wrap{background:#fff;border-top:1px solid #e5e7eb;border-bottom:1px solid #e5e7eb;position:sticky;top:96px;z-index:25}
@media (max-width:680px){.tabs-wrap{top:102px}}
.tabs{max-width:1100px;margin:auto;padding:10px 14px;display:flex;gap:10px;overflow:auto}
.tab{padding:10px 16px;border:2px solid var(--border);border-radius:12px;background:#fff;font-weight:700;text-decoration:none;color:#111}
.tab_active{background:#111;color:#fff}

/* ‚ÄúLivraison‚Äù bandeau */
.notice{max-width:1100px;margin:10px auto;background:#fff;border-radius:12px;border:1px solid #e5e7eb;padding:12px 14px;display:flex;align-items:center;gap:10px}

/* Cartouche produit */
.catalog{max-width:1100px;margin:0 auto;padding:16px 12px}
.card{background:#fff;border:2px solid #111;border-radius:18px;margin:12px 0;overflow:hidden}
.card .ph{background:#e9eef2;height:180px;display:grid;place-items:center}
.card img{width:100%;height:180px;object-fit:cover}
.card .body{padding:16px}
.card h3{margin:0 0 6px}
.card .meta{color:#6b7280;margin-bottom:6px}
.card .price{font-size:18px;margin:8px 0 14px}
.btn{border:0;padding:10px 16px;border-radius:12px;cursor:pointer}
.btn-primary{background:#f59e0b;font-weight:700}
.btn-dark{background:#111;color:#fff}

/* Modale fiche produit */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;z-index:9999}
.modal .box{max-width:640px;margin:60px auto;background:#fff;border-radius:14px;overflow:hidden;box-shadow:0 12px 30px rgba(0,0,0,.25)}
.modal .head{display:flex;justify-content:space-between;align-items:center;padding:16px 18px;border-bottom:1px solid #eee}
.modal .content{display:grid;grid-template-columns:160px 1fr;gap:16px;padding:18px}
.modal img{width:160px;height:160px;object-fit:cover;border:1px solid #eee;border-radius:10px}

/* Panier (devis) */
#cart-fab{position:fixed;right:16px;bottom:16px;background:#111;color:#fff;border-radius:26px;padding:10px 14px;cursor:pointer;z-index:9999}
#cart-panel{position:fixed;right:16px;bottom:64px;width:320px;background:#fff;border-radius:14px;box-shadow:0 12px 30px rgba(0,0,0,.25);display:none;overflow:hidden;z-index:9999}
#cart-panel .head{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid #eee}
#cart-list{max-height:320px;overflow:auto;padding:10px 12px}
</style>
</head>
<body>

<!-- Barre haute -->
<header class="appbar">
  <div class="bar">
    <button class="iconbtn" id="menu-btn">‚ò∞</button>
    <div class="brand">BATI DC</div>
    <div style="display:flex;gap:8px">
      <button class="iconbtn">üë§</button>
      <button class="iconbtn">üßæ</button>
      <button class="iconbtn">üõí</button>
    </div>
  </div>
  <div class="searchrow">
    <div class="searchbox">
      <input id="search" type="search" class="input" placeholder="Rechercher : perceuse, b√©ton, EPI...">
      <button class="cta" id="search-btn">Rechercher</button>
    </div>
  </div>
</header>

<!-- Onglets -->
<div class="tabs-wrap">
  <nav class="tabs">
    <a class="tab tab_active" href="#">Accueil</a>
    <a class="tab" href="#">Produits</a>
    <a class="tab" href="#">Fournisseurs</a>
    <a class="tab" href="#">Interventions</a>
  </nav>
</div>

<!-- Livraison -->
<div class="notice">üì¶ <b>Livraison partout en France</b></div>

<!-- CATALOG -->
<section id="catalog" class="catalog"></section>

<!-- Modale fiche produit -->
<div id="product-modal" class="modal">
  <div class="box">
    <div class="head">
      <h3 id="pm-title" style="margin:0;font-size:20px"></h3>
      <button id="pm-close" class="btn">Fermer</button>
    </div>
    <div class="content">
      <img id="pm-img" alt="">
      <div>
        <p id="pm-desc" style="margin:0 0 8px;color:#444;line-height:1.4"></p>
        <p style="margin:0 0 10px;color:#666"><b>R√©f.</b> <span id="pm-ref"></span> ‚Äî <b>Marque</b> <span id="pm-brand"></span></p>
        <p style="margin:0 0 16px;font-size:18px"><b id="pm-price"></b> TTC</p>
        <button id="pm-add" class="btn btn-dark">Ajouter au devis</button>
      </div>
    </div>
  </div>
</div>

<!-- Panier -->
<div id="cart-fab">üßæ Devis <span id="cart-count" style="font-weight:700">0</span></div>
<div id="cart-panel">
  <div class="head">
    <b>Mon devis</b>
    <button id="cart-close" class="btn">Fermer</button>
  </div>
  <div id="cart-list"></div>
  <div style="padding:12px 14px;border-top:1px solid #eee">
    <div style="display:flex;justify-content:space-between;margin-bottom:8px">
      <span>Total</span><b id="cart-total">0,00 ‚Ç¨</b>
    </div>
    <button style="width:100%;background:#f59e0b;border:0;padding:10px 12px;border-radius:10px;font-weight:700;cursor:pointer">T√©l√©charger mon devis (bient√¥t)</button>
  </div>
</div>

<script>
/* ==== Donn√©es produits (premi√®re s√©rie bas√©e sur tes fiches HERACLES Y7C+) ==== */
const PRODUCTS = [
  { id:'y7c-30x30',  ref:'HRC/Y7C 30x30',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 30x30 (5 cl√©s)',    price:115.00, img:'https://picsum.photos/seed/y7c3030/800/480', desc:'Cylindre europ√©en Y7C+, livr√© avec 5 cl√©s. Finition nickel√©e. Protection anti-per√ßage/anti-crochetage.', category:'Serrurerie>Cylindre' },
  { id:'y7c-30x35',  ref:'HRC/Y7C 30x35',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 30x35 (5 cl√©s)',    price:119.00, img:'https://picsum.photos/seed/y7c3035/800/480', desc:'S√©rie Y7C+. 5 cl√©s. Qualit√© pro.', category:'Serrurerie>Cylindre' },
  { id:'y7c-30x40',  ref:'HRC/Y7C 30x40',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 30x40 (5 cl√©s)',    price:129.00, img:'https://picsum.photos/seed/y7c3040/800/480', desc:'Y7C+, 5 cl√©s. Remplacement standard.', category:'Serrurerie>Cylindre' },
  { id:'y7c-30x45',  ref:'HRC/Y7C 30x45',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 30x45 (5 cl√©s)',    price:133.00, img:'https://picsum.photos/seed/y7c3045/800/480', desc:'Y7C+, 5 cl√©s. Entraxe 17.', category:'Serrurerie>Cylindre' },
  { id:'y7c-30x50',  ref:'HRC/Y7C 30x50',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 30x50 (5 cl√©s)',    price:139.00, img:'https://picsum.photos/seed/y7c3050/800/480', desc:'Y7C+, 5 cl√©s, plusieurs longueurs.', category:'Serrurerie>Cylindre' },
  { id:'y7c-35x35',  ref:'HRC/Y7C 35x35',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 35x35 (5 cl√©s)',    price:129.00, img:'https://picsum.photos/seed/y7c3535/800/480', desc:'Double entr√©e. 5 cl√©s. Nickel.', category:'Serrurerie>Cylindre' },
  { id:'y7c-35x40',  ref:'HRC/Y7C 35x40',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 35x40 (5 cl√©s)',    price:135.00, img:'https://picsum.photos/seed/y7c3540/800/480', desc:'Anti-per√ßage/anti-casse. 5 cl√©s.', category:'Serrurerie>Cylindre' },
  { id:'y7c-40x40',  ref:'HRC/Y7C 40x40',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 40x40 (5 cl√©s)',    price:149.00, img:'https://picsum.photos/seed/y7c4040/800/480', desc:'C≈ìur Y7C+. Usage intensif.', category:'Serrurerie>Cylindre' },
  { id:'y7c-45x35',  ref:'HRC/Y7C 45x35',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 45x35 (5 cl√©s)',    price:149.90, img:'https://picsum.photos/seed/y7c4535/800/480', desc:'Dimensions 45/35. 5 cl√©s.', category:'Serrurerie>Cylindre' },
  { id:'y7c-45x45',  ref:'HRC/Y7C 45x45',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 45x45 (5 cl√©s)',    price:155.00, img:'https://picsum.photos/seed/y7c4545/800/480', desc:'Longueur 90 mm.', category:'Serrurerie>Cylindre' },
  { id:'y7c-50x50',  ref:'HRC/Y7C 50x50',  brand:'HERACLES', name:'Cylindre europ√©en Y7C+ 50x50 (5 cl√©s)',    price:159.00, img:'https://picsum.photos/seed/y7c5050/800/480', desc:'Grande longueur, s√©curit√© renforc√©e.', category:'Serrurerie>Cylindre' },
  { id:'y7c-btn-30x30',ref:'HRC/Y7C+ BTN 30x30', brand:'HERACLES', name:'Cylindre √† bouton Y7C+ 30x30 (5 cl√©s)', price:125.00, img:'https://picsum.photos/seed/y7cbtn3030/800/480', desc:'C√¥t√© int√©rieur √† bouton, 5 cl√©s.', category:'Serrurerie>Cylindre' }
];

const ‚Ç¨ = n => (n||0).toLocaleString('fr-FR',{style:'currency',currency:'EUR'});
const $catalog = document.getElementById('catalog');

/* Rendu catalogue */
function renderList(list){
  $catalog.innerHTML='';
  if(!list.length){ $catalog.innerHTML='<p style="padding:24px;color:#666">Aucun article trouv√©.</p>'; return; }
  list.forEach(p=>{
    const el=document.createElement('article');
    el.className='card';
    el.innerHTML=`
      <div class="ph"><img src="${p.img}" alt="${p.name}"></div>
      <div class="body">
        <h3>${p.name}</h3>
        <div class="meta">${p.brand} ‚Ä¢ R√©f. ${p.ref}</div>
        <div class="price"><b>${‚Ç¨(p.price)}</b> TTC</div>
        <div style="display:flex;gap:12px;flex-wrap:wrap">
          <button class="btn btn-primary btn-view" data-id="${p.id}">Voir les prix</button>
          <button class="btn btn-dark btn-add" data-id="${p.id}">Ajouter au devis</button>
        </div>
      </div>`;
    $catalog.appendChild(el);
  });
  bindCardButtons();
}

/* Recherche */
const searchInput = document.getElementById('search');
function applySearch(){
  const q=(searchInput.value||'').trim().toLowerCase();
  if(!q) return renderList(PRODUCTS);
  const list = PRODUCTS.filter(p => [p.name,p.brand,p.ref,p.category].join(' ').toLowerCase().includes(q));
  renderList(list);
}
searchInput.addEventListener('input', applySearch);

/* Fiche produit (modale) */
const $modal=document.getElementById('product-modal');
const $pmTitle=document.getElementById('pm-title');
const $pmImg=document.getElementById('pm-img');
const $pmDesc=document.getElementById('pm-desc');
const $pmRef=document.getElementById('pm-ref');
const $pmBrand=document.getElementById('pm-brand');
const $pmPrice=document.getElementById('pm-price');
const $pmAdd=document.getElementById('pm-add');

function openModal(p){
  $pmTitle.textContent=p.name;
  $pmImg.src=p.img;
  $pmDesc.textContent=p.desc||'';
  $pmRef.textContent=p.ref;
  $pmBrand.textContent=p.brand;
  $pmPrice.textContent=‚Ç¨(p.price);
  $pmAdd.onclick=()=>addToCart(p.id);
  $modal.style.display='block';
}
document.getElementById('pm-close').onclick=()=> $modal.style.display='none';
$modal.addEventListener('click', e=>{ if(e.target===$modal) $modal.style.display='none'; });

/* Panier (devis) */
const $fab=document.getElementById('cart-fab');
const $panel=document.getElementById('cart-panel');
const $count=document.getElementById('cart-count');
const $list=document.getElementById('cart-list');
const $total=document.getElementById('cart-total');
document.getElementById('cart-close').onclick=()=> $panel.style.display='none';
$fab.onclick=()=> $panel.style.display = ($panel.style.display==='block'?'none':'block');

const CART_KEY='bati.cart';
let cart=JSON.parse(localStorage.getItem(CART_KEY)||'[]');
function saveCart(){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }
function refreshCartUI(){
  $count.textContent = cart.reduce((a,x)=>a+x.qty,0);
  $list.innerHTML = cart.map(line=>{
    const p=PRODUCTS.find(pp=>pp.id===line.id);
    return `<div style="display:flex;align-items:center;gap:10px;margin:8px 0">
      <img src="${p.img}" style="width:48px;height:48px;object-fit:cover;border-radius:8px">
      <div style="flex:1"><div style="font-weight:600">${p.name}</div><div style="color:#6b7280">x${line.qty} ‚Ä¢ ${‚Ç¨(p.price)}</div></div>
      <button data-id="${p.id}" class="rm" style="border:0;background:#f4f4f4;padding:6px 8px;border-radius:8px;cursor:pointer">‚úï</button>
    </div>`;
  }).join('');
  const total=cart.reduce((s,l)=>{ const p=PRODUCTS.find(pp=>pp.id===l.id); return s+p.price*l.qty; },0);
  $total.textContent=‚Ç¨(total);
  $list.querySelectorAll('.rm').forEach(b=>{ b.onclick=()=>{ cart=cart.filter(l=>l.id!==b.dataset.id); saveCart(); refreshCartUI(); }});
}
function addToCart(id){ const line=cart.find(l=>l.id===id); if(line) line.qty++; else cart.push({id,qty:1}); saveCart(); refreshCartUI(); }

function bindCardButtons(){
  document.querySelectorAll('.btn-view').forEach(b=> b.onclick=()=> openModal(PRODUCTS.find(p=>p.id===b.dataset.id)));
  document.querySelectorAll('.btn-add').forEach(b=> b.onclick=()=> addToCart(b.dataset.id));
}

/* Init */
renderList(PRODUCTS);
refreshCartUI();
</script>
</body>
</html>
